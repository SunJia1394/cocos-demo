{"version":3,"sources":["file:///Users/sunjia/project/cocos/NewProject_1/extensions/live2d_cubismsdk_cocoscreator/static/assets/Rendering/CubismBuiltinMaterials.ts"],"names":["assetManager","getUnlit","bundle","getBundle","getMaterial","getUnlitAdditive","getUnlitAdditiveCulling","getUnlitAdditiveMasked","getUnlitAdditiveMaskedCulling","getUnlitAdditiveMaskedInverted","getUnlitAdditiveMaskedInvertedCulling","getUnlitCulling","getUnlitMasked","getUnlitMaskedCulling","getUnlitMaskedInverted","getUnlitMaskedInvertedCulling","getUnlitMultiply","getUnlitMultiplyCulling","getUnlitMultiplyMasked","getUnlitMultiplyMaskedCulling","getUnlitMultiplyMaskedInverted","getUnlitMultiplyMaskedInvertedCulling","getMask","getMaskCulling","BUNDLE_NAME","bundles","get","Promise","resolve","reject","loadBundle","error","name","path","mat","load","asset","CubismBuiltinMaterials"],"mappings":"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","sourcesContent":["/**\r\n * Copyright(c) Live2D Inc. All rights reserved.\r\n *\r\n * Use of this source code is governed by the Live2D Open Software license\r\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\r\n */\r\n\r\nimport { AssetManager, assetManager, Material, resources } from 'cc';\r\n\r\n/** Default materials. */\r\nnamespace CubismBuiltinMaterials {\r\n  /** Default unlit material. */\r\n  export async function getUnlit() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'Unlit');\r\n  }\r\n\r\n  /** Default unlit, additively blending material. */\r\n  export async function getUnlitAdditive() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitAdditive');\r\n  }\r\n\r\n  /** Default unlit culled, additively blending material. */\r\n  export async function getUnlitAdditiveCulling() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitAdditiveCulling');\r\n  }\r\n\r\n  /** Default unlit masked, additively blending material. */\r\n  export async function getUnlitAdditiveMasked() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitAdditiveMasked');\r\n  }\r\n\r\n  /** Default unlit masked culled, additively blending material. */\r\n  export async function getUnlitAdditiveMaskedCulling() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitAdditiveMaskedCulling');\r\n  }\r\n\r\n  /** Default unlit masked inverted, additively blending material. */\r\n  export async function getUnlitAdditiveMaskedInverted() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitAdditiveMaskedInverted');\r\n  }\r\n\r\n  /** Default unlit masked inverted culled, additively blending material. */\r\n  export async function getUnlitAdditiveMaskedInvertedCulling() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitAdditiveMaskedInvertedCulling');\r\n  }\r\n\r\n  /** Default unlit culled material. */\r\n  export async function getUnlitCulling() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitCulling');\r\n  }\r\n\r\n  /** Default unlit masked material. */\r\n  export async function getUnlitMasked() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitMasked');\r\n  }\r\n\r\n  /** Default unlit masked culled material. */\r\n  export async function getUnlitMaskedCulling() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitMaskedCulling');\r\n  }\r\n\r\n  /** Default unlit masked inverted material. */\r\n  export async function getUnlitMaskedInverted() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitMaskedInverted');\r\n  }\r\n\r\n  /** Default unlit masked inverted culled material. */\r\n  export async function getUnlitMaskedInvertedCulling() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitMaskedInvertedCulling');\r\n  }\r\n\r\n  /** Default unlit multiply material. */\r\n  export async function getUnlitMultiply() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitMultiply');\r\n  }\r\n\r\n  /** Default unlit culled, multiply blending material. */\r\n  export async function getUnlitMultiplyCulling() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitMultiplyCulling');\r\n  }\r\n\r\n  /** Default unlit masked, multiply blending material. */\r\n  export async function getUnlitMultiplyMasked() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitMultiplyMasked');\r\n  }\r\n\r\n  /** Default unlit masked culled material. */\r\n  export async function getUnlitMultiplyMaskedCulling() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitMultiplyMaskedCulling');\r\n  }\r\n\r\n  /** Default unlit masked inverted, multiply blending material. */\r\n  export async function getUnlitMultiplyMaskedInverted() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitMultiplyMaskedInverted');\r\n  }\r\n\r\n  /** Default unlit masked inverted culled, multiply blending material. */\r\n  export async function getUnlitMultiplyMaskedInvertedCulling() {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'UnlitMultiplyMaskedInvertedCulling');\r\n  }\r\n\r\n  /** Default mask material. */\r\n  export async function getMask(): Promise<Material | null> {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'Mask');\r\n  }\r\n\r\n  /** Default culled mask material. */\r\n  export async function getMaskCulling(): Promise<Material | null> {\r\n    const bundle = await getBundle();\r\n    return bundle == null ? null : getMaterial(bundle, 'MaskCulling');\r\n  }\r\n\r\n  // #region Helper Methods\r\n\r\n  const BUNDLE_NAME = 'Live2DCubismBuiltinResource';\r\n\r\n  async function getBundle(): Promise<AssetManager.Bundle | null> {\r\n    const bundle = assetManager.bundles.get(BUNDLE_NAME);\r\n    if (bundle != null) {\r\n      return Promise.resolve(bundle);\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      assetManager.loadBundle(BUNDLE_NAME, (error, bundle) => {\r\n        if (error != null) {\r\n          reject(null);\r\n        } else {\r\n          resolve(bundle);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  async function getMaterial(bundle: AssetManager.Bundle, name: string): Promise<Material | null> {\r\n    const path = `Materials/${name}`;\r\n    const mat = bundle.get<Material>(path);\r\n    if (mat != null) {\r\n      return Promise.resolve(mat);\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      bundle.load<Material>(path, (error, asset) => {\r\n        if (error != null) {\r\n          reject(error);\r\n        } else {\r\n          resolve(asset);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // #endregion\r\n}\r\nexport default CubismBuiltinMaterials;\r\n"]}